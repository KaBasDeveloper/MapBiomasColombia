/*
Visualización de Mosaicos por año y regiones altas y bajas

// 303 Zonas Altas
// 304 Zonas Bajas

Mapbiomas.desarrollo@gaiaamazonas.org
13 Febrero 2023

*/

var region = 303;
var Pais = 'COLOMBIA';


var Collectionc4_v1 = ee.ImageCollection("projects/mapbiomas-raisg/MOSAICOS/mosaics-pathrow-2-co") //projects/mapbiomas-raisg/MOSAICOS/workspace-c3-v2
var Cartas = ee.FeatureCollection('projects/mapbiomas-raisg/DATOS_AUXILIARES/VECTORES/grid-world');
var RegionesAB = ee.FeatureCollection('users/mapbiomasdesarrollo/RegAltasBajas')


Map.addLayer(
  RegionesAB.style({ color: '000000ff', fillColor: '00000000'}),
  {},
  'Regiones Altas y Bajas', false
);

print(RegionesAB)

var reg = RegionesAB.filter(ee.Filter.eq('RegMosaico',region))

Map.addLayer(reg,"","Región")



Collectionc4_v1 = Collectionc4_v1
                  .filterMetadata('region_code','equals',region)
                  .filterMetadata('country','equals',Pais)

                  
for(var year = 1985; year<=2021; year++){ 
  
  var mosaic_yeara = Collectionc4_v1
                    .filterMetadata('year','equals',year)
                    .median().clip(reg)
  
  Map.addLayer(mosaic_yeara, {
        'bands': ['swir1_median', 'nir_median', 'red_median'],
        'gain': [0.08,0.06,0.2]
    },'Mosaico_c4_v2_'+region+'_'+year,false);
   
 }                  
                  
